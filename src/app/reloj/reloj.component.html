<ion-content>
  <!-- Encabezado -->
  <div class="header-container">
    <div class="logo-container">
      <img src="assets/logo1.png" alt="PsyWell Logo" class="small-logo" />
    </div>
  </div>

  <!-- Contenedor de Datos Fisiológicos -->
  <div class="data-container">
    <h2 class="center-text">Datos Fisiológicos en Tiempo Real</h2>

    <div class="circular-card-grid">
      <!-- Pasos -->
      <div class="circular-card">
        <div class="icon-container">
          <ion-icon name="walk" class="data-icon"></ion-icon>
        </div>
        <div class="data-value">
          {{ todayData.steps | number }}
        </div>
        <div class="data-label">Pasos</div>
      </div>

      <!-- Frecuencia Cardíaca -->
      <div class="circular-card">
        <div class="icon-container">
          <ion-icon name="heart" class="data-icon"></ion-icon>
        </div>
        <div class="data-value">
          {{ todayData.heartRate }} bpm
        </div>
        <div class="data-label">Frecuencia Cardíaca</div>
      </div>

      <!-- Saturación de Oxígeno -->
      <div class="circular-card">
        <div class="icon-container">
          <ion-icon name="pulse" class="data-icon"></ion-icon>
        </div>
        <div class="data-value">
          {{ todayData.oxygenSaturation }} %
        </div>
        <div class="data-label">Saturación de Oxígeno</div>
      </div>

      <!-- Energía Gastada -->
      <div class="circular-card">
        <div class="icon-container">
          <ion-icon name="flame" class="data-icon"></ion-icon>
        </div>
        <div class="data-value">
          {{ todayData.energyExpended | number }} kcal
        </div>
        <div class="data-label">Energía Gastada</div>
      </div>
    </div>
  </div>

  <!-- Tarjetas adicionales -->
  <div class="additional-cards">
    <!-- Sueño -->
    <div class="circular-card">
      <div class="icon-container">
        <ion-icon name="bed" class="data-icon"></ion-icon>
      </div>
      <div class="data-value">
        {{ todayData.sleep }} h
      </div>
      <div class="data-label">Sueño</div>
    </div>

    <!-- Estrés -->
    <div class="circular-card">
      <div class="icon-container">
        <ion-icon name="alert" class="data-icon"></ion-icon>
      </div>
      <div class="data-value">
        {{ todayData.stress }}
      </div>
      <div class="data-label">Estrés</div>
    </div>
  </div>

  <!-- Resumen Semanal -->
  <div class="weekly-summary">
    <h2 class="center-text">Resumen Semanal</h2>

    <div class="weekly-chart">
      <div class="chart-item">
        <div class="chart-icon">
          <ion-icon name="walk"></ion-icon>
        </div>
        <div class="chart-content">
          <p class="chart-label">Total Pasos</p>
          <div class="chart-bar">
            <div class="chart-bar-fill" [style.width.%]="weeklyTotals.steps / 10000 * 100"></div>
          </div>
          <p class="chart-value">{{ weeklyTotals.steps | number }} pasos</p>
        </div>
      </div>

      <div class="chart-item">
        <div class="chart-icon">
          <ion-icon name="heart"></ion-icon>
        </div>
        <div class="chart-content">
          <p class="chart-label">Promedio Frecuencia Cardíaca</p>
          <div class="chart-bar">
            <div class="chart-bar-fill" [style.width.%]="weeklyTotals.heartRate / 150 * 100"></div>
          </div>
          <p class="chart-value">{{ weeklyTotals.heartRate }} bpm</p>
        </div>
      </div>

      <div class="chart-item">
        <div class="chart-icon">
          <ion-icon name="pulse"></ion-icon>
        </div>
        <div class="chart-content">
          <p class="chart-label">Promedio Saturación Oxígeno</p>
          <div class="chart-bar">
            <div class="chart-bar-fill" [style.width.%]="weeklyTotals.oxygenSaturation / 100 * 100"></div>
          </div>
          <p class="chart-value">{{ weeklyTotals.oxygenSaturation }} %</p>
        </div>
      </div>

      <div class="chart-item">
        <div class="chart-icon">
          <ion-icon name="flame"></ion-icon>
        </div>
        <div class="chart-content">
          <p class="chart-label">Total Energía Gastada</p>
          <div class="chart-bar">
            <div class="chart-bar-fill" [style.width.%]="weeklyTotals.energyExpended / 5000 * 100"></div>
          </div>
          <p class="chart-value">{{ weeklyTotals.energyExpended | number }} kcal</p>
        </div>
      </div>
    </div>
  </div>
</ion-content>


<ion-footer>
  <ion-toolbar>
    <ion-segment>
      <!-- Botón de registrar emociones -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'registrar-emociones'}" (click)="navigateTo('/registrar-emociones')">
        <img src="assets/emotes/calendario.svg" alt="Registrar emociones" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de home -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'home'}" (click)="navigateTo('/home')">
        <img src="assets/emotes/home.svg" alt="Home" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de tips -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'tips'}" (click)="navigateTo('/tips')">
        <img src="assets/emotes/tranquilidad.svg" alt="Tips" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de reloj -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'reloj'}" (click)="navigateTo('/reloj')">
        <img src="assets/emotes/reloj.webp" alt="Reloj" class="nav-icon" />
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>
