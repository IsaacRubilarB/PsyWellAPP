<ion-content class="ion-padding">
  <div class="logo-container">
    <img src="assets/logo1.png" alt="PsyWell Logo" class="small-logo" />
  </div>

  <!-- Secci贸n de Sonidos Relajantes -->
  <div class="section-container sound-section" *ngIf="sonidos && sonidos.length > 0">
    <h2 class="center-text">Sonidos Relajantes</h2>
    <div class="audio-card" 
         *ngFor="let sound of sonidos" 
         [class.playing]="isPlaying(sound)"
         (click)="toggleAudio(sound)">
      <ion-icon name="musical-notes" class="audio-icon"></ion-icon>
      <p>{{ sound.titulo }}</p>
      <div class="progress-bar" *ngIf="isPlaying(sound)">
        <div class="progress" [style.width.%]="audioProgress"></div>
      </div>
    </div>
  </div>

  <!-- Secci贸n de Videos de Ayuda -->
  <div class="section-container video-section" *ngIf="videos && videos.length > 0">
    <h2 class="center-text">Videos de Ayuda</h2>
    <div class="video-card" *ngFor="let video of videos" (click)="toggleVideo(video.titulo)">
      <ion-icon name="videocam" class="video-icon"></ion-icon>
      <p>{{ video.titulo }}</p>
    </div>
    <div class="video-content" *ngIf="showVideo">
      <iframe
        width="100%"
        height="315"
        [src]="videoUrl"
        frameborder="0"
        allowfullscreen>
      </iframe>
    </div>
  </div>

  <!-- Secci贸n de Libros -->
  <div class="section-container book-section" *ngIf="libros && libros.length > 0">
    <h2 class="center-text">Libros Recomendados</h2>
    <div class="book-card" *ngFor="let libro of libros" (click)="openBook(libro.url)">
      <img [src]="libro.portada" alt="{{ libro.titulo }}" class="book-cover" />
      <div class="book-info">
        <p class="book-title">{{ libro.titulo }}</p>
        <p class="book-author">{{ libro.autor }}</p>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar style="width: 100%;">
    <ion-segment>
      <!-- Botones de navegaci贸n -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'registrar-emociones'}" (click)="navigateTo('/registrar-emociones')">
        <img src="assets/emotes/calendario.svg" alt="Registrar emociones" class="nav-icon" />
      </ion-segment-button>
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'home'}" (click)="navigateTo('/home')">
        <img src="assets/emotes/home.svg" alt="Home" class="nav-icon" />
      </ion-segment-button>
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'tips'}" (click)="navigateTo('/tips')">
        <img src="assets/emotes/tranquilidad.svg" alt="Tips" class="nav-icon" />
      </ion-segment-button>
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'reloj'}" (click)="navigateTo('/reloj')">
        <img src="assets/emotes/reloj.webp" alt="Reloj" class="nav-icon" /> 
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>
