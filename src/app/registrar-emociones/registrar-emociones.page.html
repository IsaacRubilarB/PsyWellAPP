<ion-content class="ion-padding" [style.background-color]="'#1A3D5D'">
  <!-- Logo centrado -->
  <div class="logo-container">
    <img src="assets/logo1.png" alt="PsyWell Logo" class="small-logo" />
  </div>

  <!-- Texto centrado -->
  <h2 class="center-text">¿Cómo te sientes hoy?</h2>

  <!-- Escala de emociones con los SVG como botones -->
  <div class="emotion-scale">
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'Muy enojado'}">
      <img src="assets/emotes/enojado.svg" alt="Muy enojado" class="emotion-icon" (click)="selectedEmotion = 'Muy enojado'" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'Molesto'}">
      <img src="assets/emotes/triste.svg" alt="Molesto" class="emotion-icon" (click)="selectedEmotion = 'Molesto'" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'neutral'}">
      <img src="assets/emotes/normal.svg" alt="Neutral" class="emotion-icon" (click)="selectedEmotion = 'neutral'" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'Feliz'}">
      <img src="assets/emotes/feliz.svg" alt="Feliz" class="emotion-icon" (click)="selectedEmotion = 'Feliz'" />
    </div>
    <div class="emotion-container" [ngClass]="{'selected': selectedEmotion === 'Muy Feliz!'}">
      <img src="assets/emotes/espectacular.svg" alt="Muy Feliz!" class="emotion-icon" (click)="selectedEmotion = 'Muy Feliz!'" />
    </div>
  </div>
  

  <!-- Palabras clave relacionadas con la emoción seleccionada -->
<div *ngIf="selectedEmotion === 'Muy enojado'" class="emotion-keywords">
  <ion-item button (click)="addKeywordToComment('Discutí con alguien')">Discutí con alguien</ion-item>
  <ion-item button (click)="addKeywordToComment('Me siento frustrado')">Me siento frustrado</ion-item>
  <ion-item button (click)="addKeywordToComment('Tuve un mal día')">Tuve un mal día</ion-item>
</div>

<div *ngIf="selectedEmotion === 'Molesto'" class="emotion-keywords">
  <ion-item button (click)="addKeywordToComment('Me siento decepcionado')">Me siento decepcionado</ion-item>
  <ion-item button (click)="addKeywordToComment('Problemas en el trabajo')">Problemas en el trabajo</ion-item>
</div>

<div *ngIf="selectedEmotion === 'neutral'" class="emotion-keywords">
  <ion-item button (click)="addKeywordToComment('Día normal')">Día normal</ion-item>
  <ion-item button (click)="addKeywordToComment('Todo tranquilo')">Todo tranquilo</ion-item>
</div>

<div *ngIf="selectedEmotion === 'Feliz'" class="emotion-keywords">
  <ion-item button (click)="addKeywordToComment('Me hicieron un cumplido')">Me hicieron un cumplido</ion-item>
  <ion-item button (click)="addKeywordToComment('Pasé tiempo con amigos')">Pasé tiempo con amigos</ion-item>
  <ion-item button (click)="addKeywordToComment('Tuve un buen día')">Tuve un buen día</ion-item>
</div>

<div *ngIf="selectedEmotion === 'Muy Feliz!'" class="emotion-keywords">
  <ion-item button (click)="addKeywordToComment('Logré una meta')">Logré una meta</ion-item>
  <ion-item button (click)="addKeywordToComment('Recibí buenas noticias')">Recibí buenas noticias</ion-item>
</div>


  <!-- Campo de comentarios -->
  <ion-item class="comment-box">
    <ion-label *ngIf="comment === ''" position="floating">Escribe un comentario (opcional)</ion-label>
    <ion-textarea [(ngModel)]="comment"></ion-textarea>
  </ion-item>

  <!-- Botón Guardar centrado -->
  <div class="button-container">
    <ion-button expand="full" (click)="saveEmotion()">Guardar</ion-button>
  </div>

  <!-- Recordatorio de toma de pastillas -->
  <ion-item lines="none" class="toggle-medication">
    <ion-avatar slot="start">
      <img src="assets/emotes/pastilla.svg" alt="Recordatorio de pastilla" class="pill-icon" />
    </ion-avatar>
    <ion-label>¿Cuidaste de ti mismo hoy?</ion-label>
    <ion-toggle [(ngModel)]="remindMedication"></ion-toggle>
  </ion-item>

  <!-- Gratificación emocional -->
  <div *ngIf="showGratification" class="gratification-overlay" (click)="closeOverlay()">
    <img [src]="'assets/image.registro/' + getEmotionImage( selectedEmotion)" class="gratification-image" alt="Gratificación emocional" />
    <span class="close-button" (click)="closeOverlay()">✖</span>
  </div>

</ion-content>

<ion-footer>
  <ion-toolbar style="width: 100%;">
    <ion-segment>
      <!-- Botón de registrar emociones -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'registrar-emociones'}" (click)="navigateTo('/registrar-emociones')">
        <img src="assets/emotes/calendario.svg" alt="Registrar emociones" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de home -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'home'}" (click)="navigateTo('/home')">
        <img src="assets/emotes/home.svg" alt="Home" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de tips -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'tips'}" (click)="navigateTo('/tips')">
        <img src="assets/emotes/tranquilidad.svg" alt="Tips" class="nav-icon" />
      </ion-segment-button>
      <!-- Botón de reloj -->
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'reloj'}" (click)="navigateTo('/reloj')">
        <img src="assets/emotes/reloj.webp" alt="Reloj" class="nav-icon" /> <!-- Asegúrate de que este icono exista -->
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>
