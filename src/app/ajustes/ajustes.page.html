<ion-content>
  <!-- Encabezado -->
  <div class="header-container">
    <div class="logo-container">
      <img src="assets/logo1.png" alt="PsyWell Logo" class="small-logo" />
    </div>
    <ion-icon name="settings-outline" class="settings-button"></ion-icon>
  </div>

  <!-- Información del perfil -->
  <div class="profile-info">
    <ion-avatar>
      <img [src]="userProfile.image || 'assets/perfil.png'" alt="User Profile">
    </ion-avatar>
    <div class="user-details">
      <h2>{{ userProfile.name }}</h2>
      <p>{{ userProfile.condition }}</p>
      <p>{{ userProfile.age }} años</p>
      <ion-button expand="block" fill="outline" class="edit-profile-button" (click)="showProfileModal()">
        Editar Perfil
      </ion-button>
    </div>
  </div>

  <!-- Opciones de configuración -->
  <div class="config-options">
    <ion-card button (click)="showNotificationModal()">
      <ion-icon slot="start" name="notifications-outline"></ion-icon>
      <ion-label>Notificaciones</ion-label>
    </ion-card>
    <ion-card button (click)="showSoundModal()">
      <ion-icon slot="start" name="volume-high-outline"></ion-icon>
      <ion-label>Preferencias de Sonido</ion-label>
    </ion-card>
    <ion-card button (click)="showLanguageModal()">
      <ion-icon slot="start" name="language-outline"></ion-icon>
      <ion-label>Idioma y Tema</ion-label>
    </ion-card>
    <ion-card button (click)="showPrivacyModal()">
      <ion-icon slot="start" name="lock-closed-outline"></ion-icon>
      <ion-label>Privacidad y Seguridad</ion-label>
    </ion-card>
    <ion-card button (click)="showAboutModal()">
      <ion-icon slot="start" name="information-circle-outline"></ion-icon>
      <ion-label>Acerca de la Aplicación</ion-label>
    </ion-card>
  </div>

  <!-- Modales -->
  <ng-container *ngIf="showProfile">
    <div class="modal-overlay" (click)="closeModal()">
      <div class="modal-container" (click)="$event.stopPropagation()">
        <span class="close-modal" (click)="closeModal()">✖</span>
        <h2>Editar Perfil</h2>
        <ion-input placeholder="Nombre Completo" [(ngModel)]="userProfile.name"></ion-input>
        <ion-input placeholder="Edad" type="number" [(ngModel)]="userProfile.age"></ion-input>
        <ion-input placeholder="Condición" [(ngModel)]="userProfile.condition"></ion-input>
        <ion-button expand="block" (click)="saveProfile()">Guardar Cambios</ion-button>
      </div>
    </div>
  </ng-container>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-segment>
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'registrar-emociones'}" (click)="navigateTo('/registrar-emociones')">
        <img src="assets/emotes/calendario.svg" alt="Registrar emociones" class="nav-icon" />
      </ion-segment-button>
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'home'}" (click)="navigateTo('/home')">
        <img src="assets/emotes/home.svg" alt="Home" class="nav-icon" />
      </ion-segment-button>
      <ion-segment-button [ngClass]="{'active-segment': currentSegment === 'tips'}" (click)="navigateTo('/tips')">
        <img src="assets/emotes/tranquilidad.svg" alt="Tips" class="nav-icon" />
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer>
